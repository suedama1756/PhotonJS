<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="../../output/photon-2.0-debug.js"></script>
    <script src="angular.js"></script>
</head>
<body>

<span mv-attr-style="'color:red;'" mv-text="model.value"></span>
<input mv-model="model.value,updateOn='change'">
<button mv-action="model.invoke(),on='click'">Click</button>
<span mv-on-mouseover="model.enter(model.value)">Some Text</span>
<button mv-on-click="model.invoke()"></button>
<div mv-each="child in model.items">
    <!--{{model.category}} - {{item.orderNo}} - {{item.description}}-->
    <span mv-text="model.category" style="font-weight: bold"></span> -
    <span mv-text="child.orderNo"></span> -
    <span mv-text="child.description"></span>
    <div>
        <br>
        <span style="text-decoration: underline;"><span >
            Comments
        </span></span>
        <div mv-each="comment in child.comments" >
            <span mv-text="comment"></span>
        </div>

    </div>
    <p></p>
    <div mv-decorator="'FieldGroup', label='Add comment'">
        <input mv-decorator="'Field', label='Surname:'" mv-model="surname">
        // dom has been affected and caused this to break!! (probably should take copy)
        <span mv-show="(surname.length || 0) > 10">Ohh thans a bit long isn't it?</span>
        <input mv-decorator="'Field', label='Forename:'" mv-model="firstName">
        <input mv-decorator="'Field', label='DOB:'" mv-model="dateOfBirth">
        <input mv-decorator="'Field', label='Surname:'" mv-model="surname">
    </div>
</div>


<script>
    testModule = photon.module(function (x) {
        x.factory('A', ['B', function (b) {
            return {
                b: b
            }
        }]).trans();

        x.factory('B', function () {
            return {
                message : 'B'
            };
        }).scope();

        x.factory('C', function () {
            return {
                value : 0
            };
        }).singleton();

        x.directive('A').factory(function () {
            return 'Directive A';
        });

        x.directive('B').factory(function () {
            return 'Directive B';
        });


    });


    var model = {
        invoke: function () {
            alert('invoked');
        },
        enter: function (value) {
            alert('enter with value ' + value);
        },
        value: 'This should be red',
        category : 'Special Interests',
        items: [
            {
                orderNo: 1,
                description: 'Black ribbed nobler',
                comments: ['Got this baby today, can\'t wait to get home and try it!!!']
            },
            {
                orderNo: 2,
                description: 'Blue vein piccolo'
            }
        ]
    };

    var testModule = photon.module(function(builder) {
        builder.instance('Template', '<div><div><span mv-text="label" style="width: 200px"></span></div><content></content></div><span>Some thing else</span>')
                .name('Field');
        builder.instance('Template', '<div><h2 mv-text="label"></h2><content></content></div>').name('FieldGroup');
    });
    photon.bootstrap(document.body, [testModule], {model: model});
</script>
</body>
</html>