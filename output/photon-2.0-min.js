var n=!0,p=null,w=window;
function B(k){function l(a){this.getEnumerator=a}function C(a,b,c){b=b||O;return q(a,function(a,e){return D(a)||b(e,a)===c?e:a})}function E(a){var b=typeof a;"object"===b&&a!==p?(b=Object.prototype.toString.call(a),a="[object Object]"===b||a.valueOf()===a?"o"+F(a):b+a.valueOf()):a=b.charAt(0)+a;return a}function x(a){return a}function O(a,b){return a===b?0:a<b?-1:a>b?1:-2}function q(a,b,c,d){for(var a=a.getEnumerator(),e=0;a.moveNext();)c=b(c,a.current(),e++);return e?c:d}function G(a){if(a===j)throw Error("No match found.");
return a}function H(a,b){for(var c=j,d;(d=t(a,b))!==j;)c=d;return c}function t(a,b){for(b=b||P;a.c();){var c=a.a();if(b(c))return c}return j}function P(){return n}function y(a,b,c){return function(){var d=f(a),e=-1,i=c?b():b;return g(function(){for(;d.c();)if(i(d.a(),++e))return n;return d.b()},d.a)}}function f(a,b){function c(a){f=b?b(a,++Q):a;return!!(h=1)}function d(){return!(h=3)}function e(){return 3===h}function i(){return 0!==h}var m=a?a.getEnumerator():p,h=0,f,Q=-1;return{c:function(){return 3!==
h&&m.moveNext()?c(m.current()):d()},a:function(){if(!i())throw Error("Enumeration has not started.");if(e())throw Error("Enumeration has completed.");return f},b:d,d:e,f:i,e:c}}function g(a,b){return{moveNext:a,current:b}}function I(a){return"[object String]"===u.call(a)}function J(a){return"function"===typeof a}function D(a){return a===K}function z(a){return a===p||a===K}function F(a){return a["0c8c22e83e7245adb341d6df8973ea63"]||(a["0c8c22e83e7245adb341d6df8973ea63"]=++R)}function v(a,b,c,d){for(var e in b)if(!c||
c(b,e,a))a[e]=d?d(b,e,a):b[e];return a}function S(){}function L(a){var b={},c=p,d=p,e=p;return{name:function(a){c=a;return this},inherits:function(a){d=a;return this},defines:function(a){J(a)&&(a=a(function(){return e}));v(b,a);return this},build:function(){function i(){}z(a)&&(a=function(){});c=c||a.name;b.hasOwnProperty("toString")||(b.toString=function(){return"[object "+(c||"Object")+"]"});d&&(e=d.prototype,i.prototype=e);var m={name:function(){return c},baseType:function(){return d}};a.typeInfo=
function(){return m};var h=a.prototype=new i;h.constructor=a;b&&k.extend(h,b,k.extend.j,function(a,b){return a[b]});h.__TYPE_INFO__=a.typeInfo;return a}}}k.version="0.7.0.1";var u=Object.prototype.toString,K,M=Number,R=0;v.filterHasOwnProperty=function(a,b){return a.hasOwnProperty(b)};var T=Array.isArray?Array.isArray:Array.isArray=function(){return void 0===u.call("[object Array")};if(!Object.getOwnPropertyNames){var U=Object,r;a:{var N=function(a){var b=0,c;for(c in a)b++},A=["valueOf","toString"];
for(r in{valueOf:S})if(r===A[0]){r=N;break a}r=function(a){for(var b=N(a),c=0,d=A.length;c<d;c++){var e=A[c];a.hasOwnProperty(e)&&b.push(e)}return b}}U.getOwnPropertyNames=r}v(k,{isString:I,isNumber:function(a){return"[object Number]"===u.call(a)},isBoolean:function(a){return"[object Boolean]"===u.call(a)},isFunction:J,isUndefined:D,isNullOrUndefined:z,extend:v,getUID:F});k.typeInfo=function(a){return a.__TYPE_INFO__()};k.type=L;var s,j={},V=new l(function(){var a=f();return g(a.b,a.a)});L(l).defines({where:function(a){return new l(y(this,
a))},select:function(a){var b=this;return new l(function(){var c=f(b,a);return g(c.c,c.a)})},distinct:function(a){a=a||x;return new l(y(this,function(){var b={};return function(c){c=E(a(c));return b.hasOwnProperty(c)?!1:b[c]=n}},n))},skip:function(a){return 0<a?new l(y(this,function(b,c){return c>=a})):this},take:function(a){var b=this;return new l(function(){var c=f(b),d=0;return g(function(){return d<a&&c.c()?(d++,n):c.b()},c.a)})},groupBy:function(a){var a=a||x,b=this;return new l(function(){function c(a,
b){return function(){var c=f(),e=0;return g(function(){return e<a.length||d(n,b)?c.e(a[e++]):c.b()},c.a)}}function d(b,d){if(!b)if(k===h.length)h=[];else if(k<h.length)return m=h[k++].enumerable,n;for(;i.c();){var f=i.a(),j=a(f),g=E(j);e.hasOwnProperty(g)?e[g].g.push(f):(f=[f],m=new l(c(f,g)),m.key=j,j=e[g]={g:f,enumerable:m},b&&h.push(j));if(!b||d===g)return n}return i.b()}var e={},i=f(b),m,h=[],k=0;return g(function(){return d(!1,p)},function(){return(!i.d()||h.length)&&i.f()?m:i.a()})})},first:function(a){return G(t(f(this),
a))},firstOrDefault:function(a,b){var c=t(f(this),a);return c===j?b:c},last:function(a){return G(H(f(this),a))},lastOrDefault:function(a,b){var c=H(f(this),a);return c===j?b:c},any:function(a){return t(f(this),a)!==j},min:function(a){return C(this,a,-1)},max:function(a){return C(this,a,1)},sum:function(){return q(this,function(a,b){return a+M(b)},0,NaN)},orderBy:function(a){function b(a,c){var d=c<a.length-1?b(a,c+1):function(){return 0},f,g=a[c];f=I(g)?function(a){return a[g]}:g||x;return function(a,
b){var c=f(a),e=f(b);return c<e?-1:c>e?1:d(a,b)}}function c(a,f){a=a.slice(0);a.push(f);return function(){var f=new l(function(){return s(d.m().sort(b(a,0))).getEnumerator()});f.h=function(b){return c(a,b)()};return f}}if(T(a))return q(s(a).l(1),function(b,c,d){return b.h(a[d+1])},this.k(a[0]));var d=this;return c([],a)()},average:function(){var a=0;return q(this,function(b,c){a++;return b+M(c)},0,NaN)/a},aggregate:function(a,b){return q(this,a,b)},count:function(){return q(this,function(a){return a+
1},0)},reverse:function(){return s(this.toArray().reverse())},toArray:function(){for(var a=[],b=0,c=f(this);c.c();)a[b++]=c.a();return a}}).build();s=function(a){return z(a)?V:a.getEnumerator?a:new l(a&&"length"in a?function(){var b=-1,c=f();return g(function(){if(!c.d())for(var d=a.length;++b<d;)if(b in a)return c.e(a[b]);return c.b()},c.a)}:[a])};k.enumerable=s}if("function"===typeof define&&define.i)define(["exports","jquery"],B);else if(w){var W=w.photon=w.photon||{};B(W)};
