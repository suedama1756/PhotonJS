var n=!0,p=null,z=window;
function E(i){function m(a){var b;if(A(a)&&!arguments.length)b=T;else if(("object"===typeof a||B(a))&&"getEnumerator"in a)b=a;else if(t(a))b=new g(function(){var b=-1,c=a.length,d=f();return j(function(){return!d.e()&&++b<c?d.d(a.charAt(b)):d.c()},d.a)});else{b=g;var c=0,d=U(a)||"object"===typeof a&&F(c=a.length)&&(0===c||0<c&&"0"in a&&c-1 in a)?a:[a];b=new b(function(){var a=-1,b=f();return j(function(){if(!b.e())for(var c=d.length;++a<c;)if(a in d)return b.d(d[a]);return b.c()},b.a)})}return b}
function g(a){if(!(this instanceof g))return new g(a);this.getEnumerator=a}function G(a,b,c){b=b||H;return q(a,function(a,e){return A(a)||b(e,a)===c?e:a})}function I(a){var b=typeof a;"object"===b&&a!==p?(b=Object.prototype.toString.call(a),a="[object Object]"===b||a.valueOf()===a?"o"+J(a):b+a.valueOf()):a=b.charAt(0)+a;return a}function u(a){return a}function H(a,b){return a===b?0:a<b?-1:a>b?1:-2}function q(a,b,c,d){for(var a=a.getEnumerator(),e=0;a.moveNext();)c=b(c,a.current(),e++);return e?c:
d}function K(a){if(a===l)throw Error("No match found.");return a}function L(a,b){for(var c=l,d;(d=v(a,b))!==l;)c=d;return c}function v(a,b){for(b=b||V;a.b();){var c=a.a();if(b(c))return c}return l}function V(){return n}function C(a,b,c){return function(){var d=f(a),e=-1,k=c?b():b;return j(function(){for(;d.b();)if(k(d.a(),++e))return n;return d.c()},d.a)}}function w(a,b,c,d){return r(new g(function(){return m(a.toArray().sort(M(f(b,function(a){return{i:a,direction:d,f:c||H}})))).getEnumerator()}),
{thenBy:function(c,d){return w(a,b.concat(x(c)),d,1)},thenByDesc:function(c,d){return w(a,b.concat(x(c)),d,-1)}})}function M(a,b){if(a.b()){var c=a.a(),d=M(a,n),e=N(c.i),k=c.direction,f=c.f,h=function(a,b){return f(e(a),e(b))||d(a,b)};return!b&&-1===k?function(a,b){return-1*h(a,b)}:h}return function(){return 0}}function x(a){t(a)&&(a=[a]);return a?m(a).select(N):m(u)}function N(a){return t(a)?function(b){return b[a]}:a||u}function f(a,b){function c(a){g=b?b(a,++W):a;return!!(h=1)}function d(){return!(h=
3)}function e(){return 3===h}function k(){return 0!==h}var f=a?a.getEnumerator():p,h=0,g,W=-1;return{b:function(){return 3!==h&&f.moveNext()?c(f.current()):d()},a:function(){if(!k())throw Error("Enumeration has not started.");if(e())throw Error("Enumeration has completed.");return g},c:d,e:e,g:k,d:c}}function j(a,b){return{moveNext:a,current:b}}function t(a){return"[object String]"===y.call(a)}function F(a){return"[object Number]"===y.call(a)}function B(a){return"function"===typeof a}function A(a){return a===
O}function P(a){return a===p||a===O}function J(a){return a["0c8c22e83e7245adb341d6df8973ea63"]||(a["0c8c22e83e7245adb341d6df8973ea63"]=++X)}function r(a,b,c,d){for(var e in b)if(!c||c(b,e,a))a[e]=d?d(b,e,a):b[e];return a}function Y(){}function Q(a){var b={},c=p,d=p,e=p;return{name:function(a){c=a;return this},inherits:function(a){d=a;return this},defines:function(a){B(a)&&(a=a(function(){return e}));r(b,a);return this},build:function(){function f(){}P(a)&&(a=function(){});c=c||a.name;b.hasOwnProperty("toString")||
(b.toString=function(){return"[object "+(c||"Object")+"]"});d&&(e=d.prototype,f.prototype=e);var g={name:function(){return c},baseType:function(){return d}};a.typeInfo=function(){return g};var h=a.prototype=new f;h.constructor=a;b&&i.extend(h,b,i.extend.k,function(a,b){return a[b]});h.__TYPE_INFO__=a.typeInfo;return a}}}i.version="0.7.0.1";var y=Object.prototype.toString,O,R=Number,X=0;r.filterHasOwnProperty=function(a,b){return a.hasOwnProperty(b)};var U=Array.isArray?Array.isArray:Array.isArray=
function(){return void 0===y.call("[object Array")};if(!Object.getOwnPropertyNames){var Z=Object,s;a:{var S=function(a){var b=0,c;for(c in a)b++},D=["valueOf","toString"];for(s in{valueOf:Y})if(s===D[0]){s=S;break a}s=function(a){for(var b=S(a),c=0,d=D.length;c<d;c++){var e=D[c];a.hasOwnProperty(e)&&b.push(e)}return b}}Z.getOwnPropertyNames=s}r(i,{isString:t,isNumber:F,isBoolean:function(a){return"[object Boolean]"===y.call(a)},isFunction:B,isUndefined:A,isNullOrUndefined:P,extend:r,getUID:J});i.typeInfo=
function(a){return a.__TYPE_INFO__()};i.type=Q;var l={};Q(g).defines({where:function(a){return new g(C(this,a))},select:function(a){var b=this;return new g(function(){var c=f(b,a);return j(c.b,c.a)})},distinct:function(a){a=a||u;return new g(C(this,function(){var b={};return function(c){c=I(a(c));return b.hasOwnProperty(c)?!1:b[c]=n}},n))},skip:function(a){return 0<a?new g(C(this,function(b,c){return c>=a})):this},take:function(a){var b=this;return new g(function(){var c=f(b),d=0;return j(function(){return d<
a&&c.b()?(d++,n):c.c()},c.a)})},concat:function(){var a=this,b=arguments;return new g(function(){var c=f(),d=f(a),e=f(m(b),function(a){return f(m(a))});return j(function(){for(;!d.b();)if(e.b())d=e.a();else return c.c();return c.d(d.a())},c.a)})},groupBy:function(a){var a=a||u,b=this;return new g(function(){function c(a,b){return function(){var c=f(),e=0;return j(function(){return e<a.length||d(n,b)?c.d(a[e++]):c.c()},c.a)}}function d(b,d){if(!b)if(m===h.length)h=[];else if(m<h.length)return i=h[m++].enumerable,
n;for(;k.b();){var f=k.a(),j=a(f),l=I(j);e.hasOwnProperty(l)?e[l].h.push(f):(f=[f],i=new g(c(f,l)),i.key=j,j=e[l]={h:f,enumerable:i},b&&h.push(j));if(!b||d===l)return n}return k.c()}var e={},k=f(b),i,h=[],m=0;return j(function(){return d(!1,p)},function(){return(!k.e()||h.length)&&k.g()?i:k.a()})})},first:function(a){return K(v(f(this),a))},firstOrDefault:function(a,b){var c=v(f(this),a);return c===l?b:c},last:function(a){return K(L(f(this),a))},lastOrDefault:function(a,b){var c=L(f(this),a);return c===
l?b:c},any:function(a){return v(f(this),a)!==l},min:function(a){return G(this,a,-1)},max:function(a){return G(this,a,1)},sum:function(){return q(this,function(a,b){return a+R(b)},0,NaN)},orderBy:function(a,b){return w(this,x(a),b,1)},orderByDesc:function(a,b){return w(this,x(a),b,-1)},average:function(){var a=0;return q(this,function(b,c){a++;return b+R(c)},0,NaN)/a},aggregate:function(a,b){return q(this,a,b)},count:function(){return q(this,function(a){return a+1},0)},reverse:function(){return m(this.toArray().reverse())},
toArray:function(){for(var a=[],b=0,c=f(this);c.b();)a[b++]=c.a();return a}}).build();var T=new g(function(){var a=f();return j(a.c,a.a)});i.enumerable=m;i.Enumerable=g}if("function"===typeof define&&define.j)define(["exports","jquery"],E);else if(z){var $=z.photon=z.photon||{};E($)};
