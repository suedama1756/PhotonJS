(function(A){var G=function(j){function H(a){return"[object String]"===I.call(a)}function G(a){return"[object Number]"===I.call(a)}function n(a){return"function"===typeof a}function ia(a){return a===W}function J(a){return"object"===typeof a}function v(a){return null===a||a===W}function ja(a){return a["0c8c22e83e7245adb341d6df8973ea63"]||(a["0c8c22e83e7245adb341d6df8973ea63"]=++Ca)}function q(a,b,c,d){for(var e in b)if(!c||c(b,e,a))a[e]=d?d(b,e,a):b[e];return a}function K(){}function ka(a){var b={},
c=null,d=null,e=null;return{name:function(a){c=a;return this},inherits:function(a){d=a;return this},defines:function(a){n(a)&&(a=a(function(){return e}));q(b,a);return this},exports:function(a){q(b,a(b));return this},build:function(){function g(){}v(a)&&(a=function(){});c=c||a.name;b.hasOwnProperty("toString")||(b.toString=function(){return"[object "+(c||"Object")+"]"});d&&(e=d.prototype,g.prototype=e);var l={name:function(){return c},baseType:function(){return d}};a.typeInfo=function(){return l};
var r=a.prototype=new g;r.constructor=a;b&&j.extend(r,b,j.extend.filterHasOwnProperty,function(a,b){return a[b]});r.__TYPE_INFO__=a.typeInfo;return a}}}function B(a){return a}function la(a,b){return a===b?0:a<b?-1:a>b?1:-2}function m(){var a=0,b;return{current:function(){if(0===a)throw Error("Enumeration has not started.");if(3===a)throw Error("Enumeration has completed.");return b},progress:function(c){b=c;return!!(a=1)},end:function(){return!(a=3)}}}function ma(a){return function(){var b=-1,c=m();
return h(function(){if(-2!==b){for(var d=a.length;++b<d;)if(b in a)return c.progress(a[b]);b=-2}return c.end()},c.current)}}function na(a){var b=typeof a;"object"===b&&null!==a?(b=Object.prototype.toString.call(a),a="[object Object]"===b||a.valueOf()===a?"o"+ja(a):b+a.valueOf()):a=b.charAt(0)+a;return a}function C(a){var b;if(!(b=X(a))){var c=0;b=X(a)||J(a)&&G(c=a.length)&&(0===c||0<c&&"0"in a&&c-1 in a)}if(b)return ma(a);if(H(a))return function(){var b=-1,c=a.length,g=m();return h(function(){return-2!==
b?++b<c?g.progress(a.charAt(b)):b=g.end():!1},g.current)};if(n(a))return a}function L(a,b){var c=b,b=H(c)?function(a){return a[c]}:c||B;return function(){var c=m(),e=a(),g=0;return h(function(){return e.moveNext()&&c.progress(b(e.current(),g++))||c.end()},c.current)}}function oa(a,b){return function(){var c=m(),d=a(),e=0;return h(function(){for(;d.moveNext();){var a=d.current();if(b(a,e++))return c.progress(a)}return c.end()},c.current)}}function Y(a,b){return function(){var c=m(),d=a(),e=L(C(b),
function(a){return(a&&J(a)&&a.getEnumerator||C(Array.isArray(a)?a:[a]))()})();return h(function(){for(;!d.moveNext();){if(!e.moveNext())return c.end();d=e.current()}return c.progress(d.current())},c.current)}}function M(a,b,c,d){for(var a=a(),e=0;a.moveNext();)c=b(c,a.current(),e++);return e?c:d}function h(a,b){return{moveNext:a,current:b}}function Z(a,b,c){b=b||la;return M(a,function(a,e,g){return!g||b(e,a)===c?e:a},W,s)}function $(a){for(var b=[],c=0,a=a();a.moveNext();)b[c++]=a.current();return b}
function N(a,b){for(;a.moveNext();){var c=a.current();if(!b||b(c))return c}return s}function pa(a,b){for(var c=s,d;(d=N(a,b))!==s;)c=d;return c}function qa(a){if(a===s)throw Error("No match found.");return a}function O(a,b){return a===s?b:a}function f(a){return a instanceof P?a:new P(C(a))}function P(a){this.getEnumerator=this.getEnumerator_=a}function ra(a){return H(a)?function(b){return b[a]}:a||B}function sa(a){if(a.moveNext()){var b=a.current(),c=sa(a),d=ra(b.selector),e=b.direction,g=b.comparer;
return function(a,b){return g(d(a),d(b))*e||c(a,b)}}return function(){return 0}}function Q(a,b,c){X(a)||(a=[a||B]);a=L(C(a),ra);return L(a,function(a){return{selector:a,direction:c,comparer:b||la}})}function R(a,b){return q(f(function(){return C($(a).sort(sa(b())))()}),{thenBy:function(c,d){return R(a,Y(b,Q(c,d,1)))},thenByDesc:function(c,d){return R(a,Y(b,Q(c,d,-1)))}})}function y(a){var b=arguments;return a.replace(Da,function(a,d,e,g,l,r){if(l){a=y.formatters[l];l=y("Invalid format specifier '{0}'.",
l);if(!a)throw Error(l);l=a}else l=null;d=b[Number(d)+1];return l?l(d,r):d})}function aa(a,b){for(var b=v(b)?1:b,c=[];0<b--;)c.push(a);return c.join("")}j.version="0.7.0.1";var I=Object.prototype.toString,D=Array.prototype,ha=Function.prototype,W,ta=Number,Ca=0;q.filterHasOwnProperty=function(a,b){return a.hasOwnProperty(b)};var X=Array.isArray?Array.isArray:Array.isArray=function(){return void 0===I.call("[object Array")};if(!Object.getOwnPropertyNames){var S=Object,t;a:{var ua=function(a){var b=
0,c;for(c in a)b++},ba=["valueOf","toString"];for(t in{valueOf:K})if(t===ba[0]){t=ua;break a}t=function(a){for(var b=ua(a),c=0,d=ba.length;c<d;c++){var e=ba[c];a.hasOwnProperty(e)&&b.push(e)}return b}}S.getOwnPropertyNames=t}D.forEach||(D.forEach=function(a,b){for(var c=0,d=this.length;c<d;c++)c in this&&a.call(b,this[c],c,this)});D.map||(D.map=function(a,b){for(var c=this.length,d=Array(c),e=0;e<c;e++)e in this&&(d[e]=a.call(b,this[e],e,this));return d});q(j,{isString:H,isNumber:G,isBoolean:function(a){return"[object Boolean]"===
I.call(a)},isFunction:n,isUndefined:ia,isNullOrUndefined:v,extend:q,getUID:ja,noop:K});j.typeInfo=function(a){return a.__TYPE_INFO__()};j.type=ka;var s={};q(P.prototype,{select:function(a){return f(L(this.getEnumerator_,a))},where:function(a){return f(oa(this.getEnumerator_,a))},first:function(a){return qa(N(this.getEnumerator_(),a))},firstOrDefault:function(a,b){return O(N(this.getEnumerator_(),a),b)},last:function(a){return qa(pa(this.getEnumerator_(),a))},lastOrDefault:function(a,b){return O(pa(this.getEnumerator_(),
a),b)},toArray:function(){return $(this.getEnumerator_)},aggregate:function(a,b,c){return M(this.getEnumerator_,a,b,c)},min:function(a){return O(Z(this.getEnumerator_,a,-1))},max:function(a){return O(Z(this.getEnumerator_,a,1))},extremum:function(a){return Z(this.getEnumerator_,a)},sum:function(){return M(this.getEnumerator_,function(a,b){return a+ta(b)},0,NaN)},any:function(a){return N(this.getEnumerator_(),a)!==s},skip:function(a){var b=this.getEnumerator_;return f(function(){var c=b(),d=-1;return h(function(){for(var b;d<
a&&(b=c.moveNext());)d++;return b||c.moveNext()},c.current)})},take:function(a){var b=this.getEnumerator_;return f(function(){var c=b(),d=m(),e=0;return h(function(){return e<a&&c.moveNext()?(e++,d.progress(c.current())):d.end()},d.current)})},distinct:function(a){var b=this.getEnumerator_,c=a,c=c||B;return f(function(){var a;return oa(function(){a={};return b()},function(b){b=na(c(b));return!a.hasOwnProperty(b)&&(a[b]=!0)})()})},groupBy:function(a){var b=this.getEnumerator_,c=a,c=c||B;return f(function(){function a(b,
c,d){var l=f(function(){var a=m(),b=0;return h(function(){return b<c.length||e(!0,d)?a.progress(c[b++]):a.end()},a.current)});l.key=b;return g[d]={items:c,groupSource:l}}function e(b,e){if(!b){if(j<i.length)return r.progress(i[j++].groupSource);0!==j&&(i=[],j=0)}for(;l.moveNext();){var f=l.current(),h=c(f),k=na(h);if(g.hasOwnProperty(k)){if(g[k].items.push(f),b&&e===k)return!0}else if(f=a(h,[f],k),b?i.push(f):r.progress(f.groupSource),!b)return!0}return b?!1:r.end()}var g={},l=b(),r=m(),i=[],j=0;
return h(function(){return e(!1)},r.current)})},average:function(){var a=0;return M(this.getEnumerator_,function(b,c){a++;return b+ta(c)},0,NaN)/a},forEach:function(a,b){for(var c=(0,this.getEnumerator_)(),d=0;c.moveNext();)a.call(b,c.current(),d++)},reverse:function(){var a=this.getEnumerator_;return f(function(){return ma($(a).reverse())()})},orderBy:function(a,b){return R(this.getEnumerator_,Q(a,b,1))},concat:function(){return f(Y(this.getEnumerator_,D.slice.call(arguments)))},orderByDesc:function(a,
b){return R(this.getEnumerator_,Q(a,b,-1))}});f.regexExec=function(a,b,c){return f(function(){var d=m(),e=c,g;return h(function(){var c,f;e===b.length?(f=!ia(void 0)?d.progress(void 0):d.end(),e=-1):-1===e?f=d.end():(g=a.lastIndex,a.lastIndex=e,f=(c=a.exec(b))?d.progress(c):d.end(),e=a.lastIndex,a.lastIndex=g);return f},d.current)})};f.value=function(a){var b=!1;return f(h(function(){return!b?b=!0:!1},function(){if(b)throw Error();return a}))};f.sequence=function(a,b,c){return f(function(){var d=
m();return h(function(){return a<b?d.progress(c?c(a++):a++):d.end()},d.current)})};j.enumerable=f;j.scope=function(a){function b(){}b.prototype=a||new function(){};return new b};ka(function(){}).defines({$new:function(){}});var Da=/\{(\d+)(:(([a-z])(\d*)))?\}/gi;y.formatters={d:function(a,b){a=Math.floor(Number(a));if(isNaN(a)||!b)return a;a=""+a;return aa("0",b-a.length)+a},f:function(a,b){a=Number(a);return!v(b)?a.toFixed(b):a}};q(j,{string:{padLeft:function(a,b,c){return aa(b,c)+a},padRight:function(a,
b,c){return a+aa(b,c)},format:y}});var p=function(a){return Function("s","l","x","y","return x(s, l)"+a+"y(s, l);")},w=function(a){var b=function(){return a};b.isPrimitive=!(J(a)||n(a));return b},xa=function(a){function b(b){if(d!==b){var b="at (",c=a.charAt(d);if('"'===c||"'"===c)b="Unterminated string detected "+b;throw Error("INVALID TOKEN: "+b+d+").");}}function c(c){var g,f;c?(f=c[0],g=c[8]&&z||c[1]&&T||c[20]&&x||c[13]&&E,b(c=c.index),d+=f.length):(b(c=a.length),g=va);if(g)return{type:g,text:f,
index:c,fn:null};g=wa[f];return{type:g.type,text:f,index:c,fn:g.fn}}var d=0;return new P(function(){var b=m(),d=0,f;return h(function(){var i,j;if(d===a.length)return d=-1,b.progress(c(null));if(-1===d)return!1;f=u.lastIndex;u.lastIndex=d;j=(i=u.exec(a))?b.progress(c(i)):b.end();d=u.lastIndex;u.lastIndex=f;return j},b.current)})},U=function(a,b){if(a&&a.length){var c;c="var c = $scope, u;"+(f(a).aggregate(function(a,b){return a+" if ($ctx.isNullOrUndefined(c)) return u; c=c['"+b+"'];"},"")+" return c");
var d=Function("$scope","$ctx",c);return b?function(a){return d(b(a),ya)}:function(a){return d(a,ya)}}return null},V=function(a){return function(b){return b.text===a}},ca=function(a,b,c){return function(d,e){return b(d,e,a,c)}},F=function(a,b,c){var d=function(){var e=a(),f;if(f=b(c))e=ca(e,f.fn,d());return e};return d},S=function(){return{parse:function(a){function b(a){if(k<u-1){var b=n[k];if(!a||b.text===a)return b}return null}function c(a){return q(Error(y("Parser error: {0} at position ({1}).",
a,k)),{line:0,column:k})}function d(a){var b;if(!(b=e(a)))throw b=n[k],c(y("expected token '{0}', but found '{1}'",a,b&&b.text||"EOF"));return b}function e(a){(a=b(a))&&k++;return a}function f(a){var b;return k<u-1&&(b=n[k],b.type===a)?(k++,b):null}function i(a,b,c){var d=k+a.length;if(d>u)return null;for(var e=k,f=0;e<d;e++,f++)if(!a[f](n[e]))return null;a=n[k+b];k+=c;return a}function j(a){var c,d,h=a;if(c=f(x)||a&&i(za,1,3))for(d=[c.text];;)if(e(".")||b("[")){c=f(x)||i(za,1,3);if(!c)throw Error();
d.push(c.type===z?c.text.substring(1,c.text.length-1):c.text)}else if(e("("))c=h,d.length&&(a=h,1<d.length&&(a=h=U(d.slice(0,d.length-1),h)),c=U(d.slice(d.length-1),h)),h=t(c,a),a=function(){return A},d=[];else break;d&&d.length&&(h=U(d,h));return h}function h(){var b=m(),c,d;if(d=e("=")){if(!b.assign)throw Error("implies assignment but ["+a.substring(0,d.index)+"] can not be assigned to",d);c=m();return function(a,d){return b.assign(a,c(a,d),d)}}return b}function m(){for(var a=v(),b;b=e("||");)a=
ca(a,b.fn,v());return a}function p(){var a;if(e("+"))a=s();else if(a=e("-"))a=ca(Aa,a.fn,p());else if(a=e("!")){var b=a.fn,c=p();a=function(a,d){return b(a,d,c)}}else a=s();return a}function t(a,c){var f=[];if(!b(")")){do f.push(h());while(e(","))}d(")");return function(b,d){for(var e=[],h=c?c(b,d):b,g=0;g<f.length;g++)e.push(f[g](b,d));g=a(b,d)||K;if(g.apply)return g.apply(h,e);e.unshift(h);return ha.apply.call(g,e)}}function s(){var a,c;a=j();if(!a)if(e("("))a=h(),d(")");else if(e("[")){var i=[];
if(!b("]")){do i.push(h());while(e(","))}a=function(a,b){return i.map(function(c){return c(a,b)})};d("]")}if(!a){c=e();a=c.fn;if(!a&&32===(c.type&32))switch(c.type){case E:a=w(Number(c.text));break;case x:a=U([f(x)]);break;case z:a=w(c.text.substring(1,c.text.length-1))}if(b(".")||b("["))e("."),a=j(a)}if(!a)throw Error("Invalid expression.");return a}var n=xa(a).where(function(a){return a.type!==T}).toArray(),k=0,u=n.length,v=F(F(F(F(F(p,f,da),f,ea),f,fa),f,ga),e,"&&");return h()}}};t=function(a){var b=
{},c=function(c,e){return(b[c]||(b[c]=a.parse(c)))(e)};c.clearCache=function(){b={}};return c};var va=-1,x=3,ga=17,fa=18,da=19,ea=20,z=32,E=33,T=128,Aa,wa={},u,Ea=function(a){return f(a).select(function(a){return-1!=="\\[]{}().+*^|".indexOf(a)?"\\"+a:a}).toArray().join("")},i=function(a,b,c,d){c||(a.forEach(function(a,c){wa[a]={type:b,fn:d&&(n(d)?d(a):d[c])}}),a=a.map(Ea));Ba.push(a)};Aa=w(0);var Ba=[];i(["\\s","\\r","\\t","\\n"," "],T,!1);i(["===","==","!==","!="],ga,!1,p);i(["<=","<",">=",">"],
fa,!1,p);i(["*","%","/"],da,!1,p);i(["+","-"],ea,!1,p);i("&& || = <<= << >>= & | ^".split(" "),16,!1,p);i("()[]{}".split(""),4,!1);i(['"([^\\\\"]*(\\\\[rtn"])?)*"',"'([^\\\\']*(\\\\[rtn'])?)*'"],z,!0);i(["[-+]?[0-9]*[.]?[0-9]+([eE][-+]?[0-9]+)?"],E,!0);i(["NaN"],E,!1,[w(NaN)]);i(["true","false"],34,!1,[w(!0),w(!1)]);i(["null"],35,!1,[w(null)]);i(["undefined"],36,!1,[K]);i(["typeof","in"],2,!1);i(["[a-z_$]{1}[\\da-z_]*"],x,!0);i([".",":",",",";"],64,!1);p=f(Ba).select(function(a){return a.join("|")}).aggregate(function(a,
b){return(a?a+"|(":"(")+b+")"},"");u=RegExp(p,"gi");var ya={has:function(a,b){return a&&!(!J(a)&&!n(a))&&b in a},isNullOrUndefined:function(a){return v(a)}},Fa=z,p=V("["),V=V("]"),za=[p,function(a){return a.type===Fa},V];j.parser=S;q(j.tokenize=xa,{TOKEN_EOF:va,TOKEN_OPERATOR:16,TOKEN_EQUALITY:ga,TOKEN_RELATIONAL:fa,TOKEN_MULTIPLICATIVE:da,TOKEN_ADDITIVE:ea,TOKEN_KEYWORD:2,TOKEN_IDENTIFIER:x,TOKEN_GROUP:4,TOKEN_STRING:z,TOKEN_NUMBER:E,TOKEN_BOOLEAN:34,TOKEN_NULL:35,TOKEN_UNDEFINED:36,TOKEN_DELIMITER:64,
TOKEN_WHITESPACE:T});j.execFactory=t;j.exec=t(S())};if("function"===typeof define&&define.amd)define(["exports","jquery"],G);else if(A){var ha=A.photon=A.photon||{};G(ha,A.jQuery)}})(window,document);
