(function(p){var C=function(i){function p(a){return"[object String]"===D.call(a)}function C(a){return"[object Number]"===D.call(a)}function y(a){return"function"===typeof a}function $(a){return a===O}function aa(a){return null===a||a===O}function ba(a){return a["0c8c22e83e7245adb341d6df8973ea63"]||(a["0c8c22e83e7245adb341d6df8973ea63"]=++Z)}function m(a,b,c,d){for(var e in b)if(!c||c(b,e,a))a[e]=d?d(b,e,a):b[e];return a}function P(){}function ca(a){var b={},c=null,d=null,e=null;return{name:function(a){c=
a;return this},inherits:function(a){d=a;return this},defines:function(a){y(a)&&(a=a(function(){return e}));m(b,a);return this},exports:function(a){m(b,a(b));return this},build:function(){function g(){}aa(a)&&(a=function(){});c=c||a.name;b.hasOwnProperty("toString")||(b.toString=function(){return"[object "+(c||"Object")+"]"});d&&(e=d.prototype,g.prototype=e);var H={name:function(){return c},baseType:function(){return d}};a.typeInfo=function(){return H};var u=a.prototype=new g;u.constructor=a;b&&i.extend(u,
b,i.extend.filterHasOwnProperty,function(a,b){return a[b]});u.__TYPE_INFO__=a.typeInfo;return a}}}function v(a){return a}function da(a,b){return a===b?0:a<b?-1:a>b?1:-2}function j(){var a=0,b;return{current:function(){if(0===a)throw Error("Enumeration has not started.");if(3===a)throw Error("Enumeration has completed.");return b},progress:function(c){b=c;return!!(a=1)},end:function(){return!(a=3)}}}function ea(a){return function(){var b=-1,c=j();return k(function(){if(-2!==b){for(var d=a.length;++b<
d;)if(b in a)return c.progress(a[b]);b=-2}return c.end()},c.current)}}function fa(a){var b=typeof a;"object"===b&&null!==a?(b=Object.prototype.toString.call(a),a="[object Object]"===b||a.valueOf()===a?"o"+ba(a):b+a.valueOf()):a=b.charAt(0)+a;return a}function t(a){var b;if(!(b=Q(a))){var c=0;b=Q(a)||"object"===typeof a&&C(c=a.length)&&(0===c||0<c&&"0"in a&&c-1 in a)}if(b)return ea(a);if(p(a))return function(){var b=-1,c=a.length,g=j();return k(function(){return-2!==b?++b<c?g.progress(a.charAt(b)):
b=g.end():!1},g.current)};if(y(a))return a}function E(a,b){var c=b,b=p(c)?function(a){return a[c]}:c||v;return function(){var c=j(),e=a(),g=0;return k(function(){return e.moveNext()&&c.progress(b(e.current(),g++))||c.end()},c.current)}}function ga(a,b){return function(){var c=j(),d=a(),e=0;return k(function(){for(;d.moveNext();){var a=d.current();if(b(a,e++))return c.progress(a)}return c.end()},c.current)}}function R(a,b){return function(){var c=j(),d=a(),e=E(t(b),function(a){return(a&&"object"===
typeof a&&a.getEnumerator||t(Array.isArray(a)?a:[a]))()})();return k(function(){for(;!d.moveNext();){if(!e.moveNext())return c.end();d=e.current()}return c.progress(d.current())},c.current)}}function w(a,b,c,d){for(var a=a(),e=0;a.moveNext();)c=b(c,a.current(),e++);return e?c:d}function k(a,b){return{moveNext:a,current:b}}function S(a,b,c){b=b||da;return w(a,function(a,e,g){return!g||b(e,a)===c?e:a},O,r)}function T(a){for(var b=[],c=0,a=a();a.moveNext();)b[c++]=a.current();return b}function z(a,b){for(;a.moveNext();){var c=
a.current();if(!b||b(c))return c}return r}function ha(a,b){for(var c=r,d;(d=z(a,b))!==r;)c=d;return c}function ia(a){if(a===r)throw Error("No match found.");return a}function x(a,b){return a===r?b:a}function f(a){return a instanceof I?a:new I(t(a))}function I(a){this.getEnumerator=this.getEnumerator_=a}function ja(a){return p(a)?function(b){return b[a]}:a||v}function ka(a){if(a.moveNext()){var b=a.current(),c=ka(a),d=ja(b.selector),e=b.direction,g=b.comparer;return function(a,b){return g(d(a),d(b))*
e||c(a,b)}}return function(){return 0}}function J(a,b,c){Q(a)||(a=[a||v]);a=E(t(a),ja);return E(a,function(a){return{selector:a,direction:c,comparer:b||da}})}function K(a,b){return m(f(function(){return t(T(a).sort(ka(b())))()}),{thenBy:function(c,d){return K(a,R(b,J(c,d,1)))},thenByDesc:function(c,d){return K(a,R(b,J(c,d,-1)))}})}i.version="0.7.0.1";var D=Object.prototype.toString,A=Array.prototype,O,la=Number,Z=0;m.filterHasOwnProperty=function(a,b){return a.hasOwnProperty(b)};var Q=Array.isArray?
Array.isArray:Array.isArray=function(){return void 0===D.call("[object Array")};if(!Object.getOwnPropertyNames){var L=Object,l;a:{var ma=function(a){var b=0,c;for(c in a)b++},U=["valueOf","toString"];for(l in{valueOf:P})if(l===U[0]){l=ma;break a}l=function(a){for(var b=ma(a),c=0,d=U.length;c<d;c++){var e=U[c];a.hasOwnProperty(e)&&b.push(e)}return b}}L.getOwnPropertyNames=l}A.forEach||(A.forEach=function(a,b){for(var c=0,d=this.length;c<d;c++)c in this&&a.call(b,this[c],c,this)});A.map||(A.map=function(a,
b){for(var c=this.length,d=Array(c),e=0;e<c;e++)e in this&&(d[e]=a.call(b,this[e],e,this));return d});m(i,{isString:p,isNumber:C,isBoolean:function(a){return"[object Boolean]"===D.call(a)},isFunction:y,isUndefined:$,isNullOrUndefined:aa,extend:m,getUID:ba,noop:P});i.typeInfo=function(a){return a.__TYPE_INFO__()};i.type=ca;var r={};m(I.prototype,{select:function(a){return f(E(this.getEnumerator_,a))},where:function(a){return f(ga(this.getEnumerator_,a))},first:function(a){return ia(z(this.getEnumerator_(),
a))},firstOrDefault:function(a,b){return x(z(this.getEnumerator_(),a),b)},last:function(a){return ia(ha(this.getEnumerator_(),a))},lastOrDefault:function(a,b){return x(ha(this.getEnumerator_(),a),b)},toArray:function(){return T(this.getEnumerator_)},aggregate:function(a,b,c){return w(this.getEnumerator_,a,b,c)},min:function(a){return x(S(this.getEnumerator_,a,-1))},max:function(a){return x(S(this.getEnumerator_,a,1))},extremum:function(a){return S(this.getEnumerator_,a)},sum:function(){return w(this.getEnumerator_,
function(a,b){return a+la(b)},0,NaN)},any:function(a){return z(this.getEnumerator_(),a)!==r},skip:function(a){var b=this.getEnumerator_;return f(function(){var c=b(),d=-1;return k(function(){for(var b;d<a&&(b=c.moveNext());)d++;return b||c.moveNext()},c.current)})},take:function(a){var b=this.getEnumerator_;return f(function(){var c=b(),d=j(),e=0;return k(function(){return e<a&&c.moveNext()?(e++,d.progress(c.current())):d.end()},d.current)})},distinct:function(a){var b=this.getEnumerator_,c=a,c=c||
v;return f(function(){var a;return ga(function(){a={};return b()},function(b){b=fa(c(b));return!a.hasOwnProperty(b)&&(a[b]=!0)})()})},groupBy:function(a){var b=this.getEnumerator_,c=a,c=c||v;return f(function(){function a(b,c,d){var h=f(function(){var a=j(),b=0;return k(function(){return b<c.length||e(!0,d)?a.progress(c[b++]):a.end()},a.current)});h.key=b;return g[d]={items:c,groupSource:h}}function e(b,e){if(!b){if(i<h.length)return u.progress(h[i++].groupSource);0!==i&&(h=[],i=0)}for(;H.moveNext();){var f=
H.current(),k=c(f),j=fa(k);if(g.hasOwnProperty(j)){if(g[j].items.push(f),b&&e===j)return!0}else if(f=a(k,[f],j),b?h.push(f):u.progress(f.groupSource),!b)return!0}return b?!1:u.end()}var g={},H=b(),u=j(),h=[],i=0;return k(function(){return e(!1)},u.current)})},average:function(){var a=0;return w(this.getEnumerator_,function(b,c){a++;return b+la(c)},0,NaN)/a},forEach:function(a,b){for(var c=(0,this.getEnumerator_)(),d=0;c.moveNext();)a.call(b,c.current(),d++)},reverse:function(){var a=this.getEnumerator_;
return f(function(){return ea(T(a).reverse())()})},orderBy:function(a,b){return K(this.getEnumerator_,J(a,b,1))},concat:function(){return f(R(this.getEnumerator_,A.slice.call(arguments)))},orderByDesc:function(a,b){return K(this.getEnumerator_,J(a,b,-1))}});f.regexExec=function(a,b,c){return f(function(){var d=j(),e=c,g;return k(function(){var c,f;e===b.length?(f=!$(void 0)?d.progress(void 0):d.end(),e=-1):-1===e?f=d.end():(g=a.lastIndex,a.lastIndex=e,f=(c=a.exec(b))?d.progress(c):d.end(),e=a.lastIndex,
a.lastIndex=g);return f},d.current)})};f.value=function(a){var b=!1;return f(k(function(){return!b?b=!0:!1},function(){if(b)throw Error();return a}))};f.sequence=function(a,b,c){return f(function(){var d=j();return k(function(){return a<b?d.progress(c?c(a++):a++):d.end()},d.current)})};i.enumerable=f;i.scope=function(a){function b(){}b.prototype=a||new function(){};return new b};ca(function(){}).defines({$new:function(){}});var n=function(a){return Function("s","l","x","y","return x(s, l)"+a+"y(s, l);")},
B=function(a){return function(){return a}},pa=function(a){function b(b){if(d!==b){var b="at (",c=a.charAt(d);if('"'===c||"'"===c)b="Unterminated string detected "+b;throw Error("INVALID TOKEN: "+b+d+").");}}function c(c){var g,f;c?(f=c[0],g=c[8]&&F||c[1]&&M||c[20]&&N||c[13]&&G,b(c=c.index),d+=f.length):(b(c=a.length),g=na);if(g)return{type:g,text:f,index:c,fn:null};g=oa[f];return{type:g.type,text:f,index:c,fn:g.fn}}var d=0;return new I(function(){var b=j(),d=0,f;return k(function(){var h,i;if(d===
a.length)return d=-1,b.progress(c(null));if(-1===d)return!1;f=s.lastIndex;s.lastIndex=d;i=(h=s.exec(a))?b.progress(c(h)):b.end();d=s.lastIndex;s.lastIndex=f;return i},b.current)})},L=function(){return{parse:function(a){function b(a){return function(b){return b.type===a}}function c(a){return function(b){return b.text===a}}function d(a,b){var c=q+a.length;if(c>s)return!1;for(var d=q,e=0;d<c;d++,e++)if(!a[e](n[d]))return!1;c=b||a.length;d=n.slice(q,q+c);q+=c;return d}function e(a){var b;return q<s-1&&
(b=n[q],b.type===a)?(q++,b):null}function g(a,b,c,d){a:{if(q<s-1){var e=n[q],f=e.text;if(f==a||f==b||f==c||f==d||!a&&!b&&!c&&!d){a=e;break a}}a=!1}return a?(q++,a):!1}function h(){for(var a=i(),b;;)if(b=g("||"))a=l(a,b.fn,i());else return a}function i(){var a=j(),b;if(b=g("&&"))a=l(a,b.fn,i());return a}function j(){var a=k(),b;if(b=e(V))a=l(a,b.fn,j());return a}function k(){var a;a=p();for(var b;b=e(W);)a=l(a,b.fn,p());if(b=e(X))a=l(a,b.fn,k());return a}function p(){for(var a=m(),b;b=e(Y);)a=l(a,
b.fn,m());return a}function m(){var a;if(g("+"))a=r();else if(a=g("-"))a=l(qa,a.fn,m());else if(a=g("!")){var b=a.fn,c=m();a=function(a,d){return b(a,d,c)}}else a=r();return a}function l(a,b,c){return function(d,e){return b(d,e,a,c)}}function r(){var a;var b;if(a=d([v,t],1)){for(b=[a[0].text];;)if(a=d([y,v,t],2))b.push(a[1].text);else if(a=d([C,E,D]))b.push(a[1].text.substring(1,a[1].text.length-1));else break;a=b}else a=null;if(a){a="var c = $scope, u; return "+f(a).aggregate(function(a,b){""!==
a&&(a+=" && ");return a+"c && (c=$ctx.has(c, '"+b+"')?c['"+b+"']:u)"},"");var c=Function("$scope","$ctx",a);a=function(a){return c(a,sa)}}else if(b=g(),a=b.fn,!a&&32===(b.type&32))switch(b.type){case G:a=B(Number(b.text));break;case F:a=B(b.text.substring(1,b.text.length-1))}if(!a)throw Error("Invalid expression.");return a}var n=pa(a).where(function(a){return a.type!==M}).toArray(),q=0,s=n.length,y=c("."),v=b(N),t,A=c("(");t=function(a){return!A(a)};var C=c("["),D=c("]"),E=b(F);var w=h(),z,x;if(x=
g("=")){if(!w.assign)throw Error("implies assignment but ["+a.substring(0,x.index)+"] can not be assigned to",x);z=h();a=function(a,b){return w.assign(a,z(a,b),b)}}else a=w;return a}}};l=function(a){var b={},c=function(c,e){return(b[c]||(b[c]=a.parse(c)))(e)};c.clearCache=function(){b={}};return c};var na=-1,N=3,V=17,X=18,Y=19,W=20,F=32,G=33,M=128,qa,oa={},s,ta=function(a){return f(a).select(function(a){return-1!=="\\[]{}().+*^|".indexOf(a)?"\\"+a:a}).toArray().join("")},h=function(a,b,c,d){c||(a.forEach(function(a,
c){oa[a]={type:b,fn:d&&(y(d)?d(a):d[c])}}),a=a.map(ta));ra.push(a)};qa=B(0);var ra=[];h(["\\s","\\r","\\t","\\n"," "],M,!1);h(["===","==","!==","!="],V,!1,n);h(["<=","<",">=",">"],X,!1,n);h(["*","%","/"],Y,!1,n);h(["+","-"],W,!1,n);h("&& || = <<= << >>= & | ^".split(" "),16,!1,n);h("()[]{}".split(""),4,!1);h(['"([^\\\\"]*(\\\\[rtn"])?)*"',"'([^\\\\']*(\\\\[rtn'])?)*'"],F,!0);h(["[-+]?[0-9]*[.]?[0-9]+([eE][-+]?[0-9]+)?"],G,!0);h(["NaN"],G,!1,[B(NaN)]);h(["true","false"],34,!1,[B(!0),B(!1)]);h(["null"],
35,!1,[B(null)]);h(["undefined"],36,!1,[P]);h(["typeof","in"],2,!1);h(["[a-z_$]{1}[\\da-z_]*"],N,!0);h([".",":",",",";"],64,!1);n=f(ra).select(function(a){return a.join("|")}).aggregate(function(a,b){return(a?a+"|(":"(")+b+")"},"");s=RegExp(n,"gi");var sa={has:function(a,b){return a&&!("object"!==typeof a&&!y(a))&&b in a}};i.parser=L;m(i.tokenize=pa,{TOKEN_EOF:na,TOKEN_OPERATOR:16,TOKEN_EQUALITY:V,TOKEN_RELATIONAL:X,TOKEN_MULTIPLICATIVE:Y,TOKEN_ADDITIVE:W,TOKEN_KEYWORD:2,TOKEN_IDENTIFIER:N,TOKEN_GROUP:4,
TOKEN_STRING:F,TOKEN_NUMBER:G,TOKEN_BOOLEAN:34,TOKEN_NULL:35,TOKEN_UNDEFINED:36,TOKEN_DELIMITER:64,TOKEN_WHITESPACE:M});i.execFactory=l;i.exec=l(L())};if("function"===typeof define&&define.amd)define(["exports","jquery"],C);else if(p){var Z=p.photon=p.photon||{};C(Z,p.jQuery)}})(window,document);
