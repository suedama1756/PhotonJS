(function(p){var H=function(j){function p(a){return"[object String]"===I.call(a)}function H(a){return"[object Number]"===I.call(a)}function B(a){return"function"===typeof a}function ga(a){return a===V}function ha(a){return null===a||a===V}function ia(a){return a["0c8c22e83e7245adb341d6df8973ea63"]||(a["0c8c22e83e7245adb341d6df8973ea63"]=++Ba)}function l(a,b,c,d){for(var e in b)if(!c||c(b,e,a))a[e]=d?d(b,e,a):b[e];return a}function J(){}function ja(a){var b={},c=null,d=null,e=null;return{name:function(a){c=
a;return this},inherits:function(a){d=a;return this},defines:function(a){B(a)&&(a=a(function(){return e}));l(b,a);return this},exports:function(a){l(b,a(b));return this},build:function(){function g(){}ha(a)&&(a=function(){});c=c||a.name;b.hasOwnProperty("toString")||(b.toString=function(){return"[object "+(c||"Object")+"]"});d&&(e=d.prototype,g.prototype=e);var K={name:function(){return c},baseType:function(){return d}};a.typeInfo=function(){return K};var v=a.prototype=new g;v.constructor=a;b&&j.extend(v,
b,j.extend.filterHasOwnProperty,function(a,b){return a[b]});v.__TYPE_INFO__=a.typeInfo;return a}}}function C(a){return a}function ka(a,b){return a===b?0:a<b?-1:a>b?1:-2}function m(){var a=0,b;return{current:function(){if(0===a)throw Error("Enumeration has not started.");if(3===a)throw Error("Enumeration has completed.");return b},progress:function(c){b=c;return!!(a=1)},end:function(){return!(a=3)}}}function la(a){return function(){var b=-1,c=m();return i(function(){if(-2!==b){for(var d=a.length;++b<
d;)if(b in a)return c.progress(a[b]);b=-2}return c.end()},c.current)}}function ma(a){var b=typeof a;"object"===b&&null!==a?(b=Object.prototype.toString.call(a),a="[object Object]"===b||a.valueOf()===a?"o"+ia(a):b+a.valueOf()):a=b.charAt(0)+a;return a}function D(a){var b;if(!(b=W(a))){var c=0;b=W(a)||"object"===typeof a&&H(c=a.length)&&(0===c||0<c&&"0"in a&&c-1 in a)}if(b)return la(a);if(p(a))return function(){var b=-1,c=a.length,g=m();return i(function(){return-2!==b?++b<c?g.progress(a.charAt(b)):
b=g.end():!1},g.current)};if(B(a))return a}function L(a,b){var c=b,b=p(c)?function(a){return a[c]}:c||C;return function(){var c=m(),e=a(),g=0;return i(function(){return e.moveNext()&&c.progress(b(e.current(),g++))||c.end()},c.current)}}function na(a,b){return function(){var c=m(),d=a(),e=0;return i(function(){for(;d.moveNext();){var a=d.current();if(b(a,e++))return c.progress(a)}return c.end()},c.current)}}function X(a,b){return function(){var c=m(),d=a(),e=L(D(b),function(a){return(a&&"object"===
typeof a&&a.getEnumerator||D(Array.isArray(a)?a:[a]))()})();return i(function(){for(;!d.moveNext();){if(!e.moveNext())return c.end();d=e.current()}return c.progress(d.current())},c.current)}}function M(a,b,c,d){for(var a=a(),e=0;a.moveNext();)c=b(c,a.current(),e++);return e?c:d}function i(a,b){return{moveNext:a,current:b}}function Y(a,b,c){b=b||ka;return M(a,function(a,e,g){return!g||b(e,a)===c?e:a},V,s)}function Z(a){for(var b=[],c=0,a=a();a.moveNext();)b[c++]=a.current();return b}function N(a,b){for(;a.moveNext();){var c=
a.current();if(!b||b(c))return c}return s}function oa(a,b){for(var c=s,d;(d=N(a,b))!==s;)c=d;return c}function pa(a){if(a===s)throw Error("No match found.");return a}function O(a,b){return a===s?b:a}function f(a){return a instanceof P?a:new P(D(a))}function P(a){this.getEnumerator=this.getEnumerator_=a}function qa(a){return p(a)?function(b){return b[a]}:a||C}function ra(a){if(a.moveNext()){var b=a.current(),c=ra(a),d=qa(b.selector),e=b.direction,g=b.comparer;return function(a,b){return g(d(a),d(b))*
e||c(a,b)}}return function(){return 0}}function Q(a,b,c){W(a)||(a=[a||C]);a=L(D(a),qa);return L(a,function(a){return{selector:a,direction:c,comparer:b||ka}})}function R(a,b){return l(f(function(){return D(Z(a).sort(ra(b())))()}),{thenBy:function(c,d){return R(a,X(b,Q(c,d,1)))},thenByDesc:function(c,d){return R(a,X(b,Q(c,d,-1)))}})}j.version="0.7.0.1";var I=Object.prototype.toString,E=Array.prototype,fa=Function.prototype,V,sa=Number,Ba=0;l.filterHasOwnProperty=function(a,b){return a.hasOwnProperty(b)};
var W=Array.isArray?Array.isArray:Array.isArray=function(){return void 0===I.call("[object Array")};if(!Object.getOwnPropertyNames){var S=Object,n;a:{var ta=function(a){var b=0,c;for(c in a)b++},$=["valueOf","toString"];for(n in{valueOf:J})if(n===$[0]){n=ta;break a}n=function(a){for(var b=ta(a),c=0,d=$.length;c<d;c++){var e=$[c];a.hasOwnProperty(e)&&b.push(e)}return b}}S.getOwnPropertyNames=n}E.forEach||(E.forEach=function(a,b){for(var c=0,d=this.length;c<d;c++)c in this&&a.call(b,this[c],c,this)});
E.map||(E.map=function(a,b){for(var c=this.length,d=Array(c),e=0;e<c;e++)e in this&&(d[e]=a.call(b,this[e],e,this));return d});l(j,{isString:p,isNumber:H,isBoolean:function(a){return"[object Boolean]"===I.call(a)},isFunction:B,isUndefined:ga,isNullOrUndefined:ha,extend:l,getUID:ia,noop:J});j.typeInfo=function(a){return a.__TYPE_INFO__()};j.type=ja;var s={};l(P.prototype,{select:function(a){return f(L(this.getEnumerator_,a))},where:function(a){return f(na(this.getEnumerator_,a))},first:function(a){return pa(N(this.getEnumerator_(),
a))},firstOrDefault:function(a,b){return O(N(this.getEnumerator_(),a),b)},last:function(a){return pa(oa(this.getEnumerator_(),a))},lastOrDefault:function(a,b){return O(oa(this.getEnumerator_(),a),b)},toArray:function(){return Z(this.getEnumerator_)},aggregate:function(a,b,c){return M(this.getEnumerator_,a,b,c)},min:function(a){return O(Y(this.getEnumerator_,a,-1))},max:function(a){return O(Y(this.getEnumerator_,a,1))},extremum:function(a){return Y(this.getEnumerator_,a)},sum:function(){return M(this.getEnumerator_,
function(a,b){return a+sa(b)},0,NaN)},any:function(a){return N(this.getEnumerator_(),a)!==s},skip:function(a){var b=this.getEnumerator_;return f(function(){var c=b(),d=-1;return i(function(){for(var b;d<a&&(b=c.moveNext());)d++;return b||c.moveNext()},c.current)})},take:function(a){var b=this.getEnumerator_;return f(function(){var c=b(),d=m(),e=0;return i(function(){return e<a&&c.moveNext()?(e++,d.progress(c.current())):d.end()},d.current)})},distinct:function(a){var b=this.getEnumerator_,c=a,c=c||
C;return f(function(){var a;return na(function(){a={};return b()},function(b){b=ma(c(b));return!a.hasOwnProperty(b)&&(a[b]=!0)})()})},groupBy:function(a){var b=this.getEnumerator_,c=a,c=c||C;return f(function(){function a(b,c,d){var h=f(function(){var a=m(),b=0;return i(function(){return b<c.length||e(!0,d)?a.progress(c[b++]):a.end()},a.current)});h.key=b;return g[d]={items:c,groupSource:h}}function e(b,e){if(!b){if(j<h.length)return v.progress(h[j++].groupSource);0!==j&&(h=[],j=0)}for(;K.moveNext();){var f=
K.current(),k=c(f),i=ma(k);if(g.hasOwnProperty(i)){if(g[i].items.push(f),b&&e===i)return!0}else if(f=a(k,[f],i),b?h.push(f):v.progress(f.groupSource),!b)return!0}return b?!1:v.end()}var g={},K=b(),v=m(),h=[],j=0;return i(function(){return e(!1)},v.current)})},average:function(){var a=0;return M(this.getEnumerator_,function(b,c){a++;return b+sa(c)},0,NaN)/a},forEach:function(a,b){for(var c=(0,this.getEnumerator_)(),d=0;c.moveNext();)a.call(b,c.current(),d++)},reverse:function(){var a=this.getEnumerator_;
return f(function(){return la(Z(a).reverse())()})},orderBy:function(a,b){return R(this.getEnumerator_,Q(a,b,1))},concat:function(){return f(X(this.getEnumerator_,E.slice.call(arguments)))},orderByDesc:function(a,b){return R(this.getEnumerator_,Q(a,b,-1))}});f.regexExec=function(a,b,c){return f(function(){var d=m(),e=c,g;return i(function(){var c,f;e===b.length?(f=!ga(void 0)?d.progress(void 0):d.end(),e=-1):-1===e?f=d.end():(g=a.lastIndex,a.lastIndex=e,f=(c=a.exec(b))?d.progress(c):d.end(),e=a.lastIndex,
a.lastIndex=g);return f},d.current)})};f.value=function(a){var b=!1;return f(i(function(){return!b?b=!0:!1},function(){if(b)throw Error();return a}))};f.sequence=function(a,b,c){return f(function(){var d=m();return i(function(){return a<b?d.progress(c?c(a++):a++):d.end()},d.current)})};j.enumerable=f;j.scope=function(a){function b(){}b.prototype=a||new function(){};return new b};ja(function(){}).defines({$new:function(){}});var q=function(a){return Function("s","l","x","y","return x(s, l)"+a+"y(s, l);")},
w=function(a){return function(){return a}},wa=function(a){function b(b){if(d!==b){var b="at (",c=a.charAt(d);if('"'===c||"'"===c)b="Unterminated string detected "+b;throw Error("INVALID TOKEN: "+b+d+").");}}function c(c){var g,f;c?(f=c[0],g=c[8]&&x||c[1]&&T||c[20]&&t||c[13]&&F,b(c=c.index),d+=f.length):(b(c=a.length),g=ua);if(g)return{type:g,text:f,index:c,fn:null};g=va[f];return{type:g.type,text:f,index:c,fn:g.fn}}var d=0;return new P(function(){var b=m(),d=0,f;return i(function(){var h,i;if(d===
a.length)return d=-1,b.progress(c(null));if(-1===d)return!1;f=y.lastIndex;y.lastIndex=d;i=(h=y.exec(a))?b.progress(c(h)):b.end();d=y.lastIndex;y.lastIndex=f;return i},b.current)})},z=function(a,b){if(a&&a.length){var c;c="var c = $scope, u; return "+f(a).aggregate(function(a,b){""!==a&&(a+=" && ");return a+"c && (c=$ctx.has(c, '"+b+"')?c['"+b+"']:u)"},"");var d=Function("$scope","$ctx",c);return b?function(a){return d(b(a),xa)}:function(a){return d(a,xa)}}return null},U=function(a){return function(b){return b.type===
a}},A=function(a){return function(b){return b.text===a}},aa=function(a,b,c){return function(d,e){return b(d,e,a,c)}},G=function(a,b,c){var d=function(){var e=a(),f;if(f=b(c))e=aa(e,f.fn,d());return e};return d},S=function(){return{parse:function(a){function b(a){if(k<n-1){var b=l[k];if(!a||b.text===a)return b}return null}function c(a){(a=b(a))&&k++;return a}function d(a){var b;return k<n-1&&(b=l[k],b.type===a)?(k++,b):null}function e(a,b,c){var d=k+a.length;if(d>n)return null;for(var e=k,f=0;e<d;e++,
f++)if(!a[f](l[e]))return null;a=l[k+b];k+=c;return a}function f(){var a;return(a=d(t)||e(ya,1,3))?a.type===x?a.text.substring(1,a.text.length-1):a.text:null}function h(){var a,r,u;u=null;if(a=f())for(r=[a];;)if(c(".")||b("[")){a=d(t)||e(ya,1,3);if(!a)throw Error();r.push(a.type===x?match.text.substring(1,match.text.length-1):a.text)}else if(c("("))u=1<r.length?z(r.slice(0,r.length-1),u):u,u=p(z(r.slice(r.length-1)),u),r=[];else break;r&&r.length&&(u=z(r,u));return u}function i(){var b=j(),d,e;if(e=
c("=")){if(!b.assign)throw Error("implies assignment but ["+a.substring(0,e.index)+"] can not be assigned to",e);d=j();return function(a,c){return b.assign(a,d(a,c),c)}}return b}function j(){for(var a=s(),b;b=c("||");)a=aa(a,b.fn,s());return a}function m(){var a;if(c("+"))a=q();else if(a=c("-"))a=aa(za,a.fn,m());else if(a=c("!")){var b=a.fn,d=m();a=function(a,c){return b(a,c,d)}}else a=q();return a}function p(a,d){var e=[];if(!b(")")){do e.push(i());while(c(","))}if(!c(")"))throw Error("Unexpected token");
return function(b,c){for(var f=[],h=d?d(b,c):b,g=0;g<e.length;g++)f.push(e[g](b,c));g=a(h,c)||J;if(g.apply)return g.apply(h,f);f.unshift(h);return fa.apply.call(g,f)}}function q(){var a,e;a:{if(k<n-1&&(e=l[k],!t||e.type===t))break a;e=null}e&&(a=h());if(!a&&(e=c(),a=e.fn,!a&&32===(e.type&32)))switch(e.type){case F:a=w(Number(e.text));break;case t:a=z([d(t)]);break;case x:a=w(e.text.substring(1,e.text.length-1))}for(var i;k<l.length;)if(c(".")||b("["))(i=z(h(),a))?i=a=i:(i=a,a=z([f(!0)]));else if(c("("))a=
p(a,i),i=null;else break;if(!a)throw Error("Invalid expression.");return a}var l=wa(a).where(function(a){return a.type!==T}).toArray(),k=0,n=l.length,s=G(G(G(G(G(m,d,ba),d,ca),d,da),d,ea),c,"&&");return i()}}};n=function(a){var b={},c=function(c,e){return(b[c]||(b[c]=a.parse(c)))(e)};c.clearCache=function(){b={}};return c};var ua=-1,t=3,ea=17,da=18,ba=19,ca=20,x=32,F=33,T=128,za,va={},y,Ca=function(a){return f(a).select(function(a){return-1!=="\\[]{}().+*^|".indexOf(a)?"\\"+a:a}).toArray().join("")},
h=function(a,b,c,d){c||(a.forEach(function(a,c){va[a]={type:b,fn:d&&(B(d)?d(a):d[c])}}),a=a.map(Ca));Aa.push(a)};za=w(0);var Aa=[];h(["\\s","\\r","\\t","\\n"," "],T,!1);h(["===","==","!==","!="],ea,!1,q);h(["<=","<",">=",">"],da,!1,q);h(["*","%","/"],ba,!1,q);h(["+","-"],ca,!1,q);h("&& || = <<= << >>= & | ^".split(" "),16,!1,q);h("()[]{}".split(""),4,!1);h(['"([^\\\\"]*(\\\\[rtn"])?)*"',"'([^\\\\']*(\\\\[rtn'])?)*'"],x,!0);h(["[-+]?[0-9]*[.]?[0-9]+([eE][-+]?[0-9]+)?"],F,!0);h(["NaN"],F,!1,[w(NaN)]);
h(["true","false"],34,!1,[w(!0),w(!1)]);h(["null"],35,!1,[w(null)]);h(["undefined"],36,!1,[J]);h(["typeof","in"],2,!1);h(["[a-z_$]{1}[\\da-z_]*"],t,!0);h([".",":",",",";"],64,!1);q=f(Aa).select(function(a){return a.join("|")}).aggregate(function(a,b){return(a?a+"|(":"(")+b+")"},"");y=RegExp(q,"gi");var xa={has:function(a,b){return a&&!("object"!==typeof a&&!B(a))&&b in a}};A(".");U(t);U=U(x);A("(");var q=A("["),A=A("]"),ya=[q,U,A];j.parser=S;l(j.tokenize=wa,{TOKEN_EOF:ua,TOKEN_OPERATOR:16,TOKEN_EQUALITY:ea,
TOKEN_RELATIONAL:da,TOKEN_MULTIPLICATIVE:ba,TOKEN_ADDITIVE:ca,TOKEN_KEYWORD:2,TOKEN_IDENTIFIER:t,TOKEN_GROUP:4,TOKEN_STRING:x,TOKEN_NUMBER:F,TOKEN_BOOLEAN:34,TOKEN_NULL:35,TOKEN_UNDEFINED:36,TOKEN_DELIMITER:64,TOKEN_WHITESPACE:T});j.execFactory=n;j.exec=n(S())};if("function"===typeof define&&define.amd)define(["exports","jquery"],H);else if(p){var fa=p.photon=p.photon||{};H(fa,p.jQuery)}})(window,document);
